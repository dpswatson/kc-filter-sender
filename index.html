<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Kc-senderblock by dpswatson</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Kc-senderblock</h1>
        <h2>A Bash script for Kerio Connect servers to filter senders from messages that users have marked as spam.</h2>
        <a href="https://github.com/dpswatson/kc-senderblock" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <p>A Bash script for Kerio Connect servers to filter senders from messages that users have marked as spam.</p>

<p>This script addresses what many users perceive as a deficiency in Kerio Connect: Even after they've marked messages as spam, there is still a very good chance that they will receive new messages from the same sender. KC actually uses the cumulative spam/not spam desgnations to train the Beyesian filter built into SpamAssassin, but does not set a block on the sender. If a message with the same sender and recipient is received again, there is a good chance that the server will still not recognize it as spam.</p>

<p>The script is designed to work in conjunction with a swatch process that is monitoring the spam.log file on the KC server. If a line is added to the file that indicates that a user has marked a message as either spam or not spam, or has manually moved a message into the Junk E-mail folder, that line to piped to the script, which then processes it and takes appropriate action. If a message is marked as spam or moved into the Junk E-mail folder, a filter rule is created (or modified if it already exists) to move new messages from the sender to the Junk E-mail folder automotically. If a message is marked as not spam, the sender is removed from the list (if present). </p>

<p>I wrote this script for my own use, and have only tested it on Ubuntu Linux thus far. I suspect it will run properly on any Linux distro. It may require some modifications to run on a Mac. On Windows, you may be able to get it working with Cygwin (<a href="https://www.cygwin.com/">https://www.cygwin.com/</a>).</p>

<p>The script was designed to run on the KC server itself, but it should run fine on another machine as long as it has full read/write access to the mail store directory. All editions of KC use the same structure within the store directory, so it should be compatible with any edition. If you have multiple KC servers, you will need to configure a separate swatch and script instance for each server.</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/dpswatson/kc-senderblock/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/dpswatson/kc-senderblock/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/dpswatson/kc-senderblock"></a> is maintained by <a href="https://github.com/dpswatson">dpswatson</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
